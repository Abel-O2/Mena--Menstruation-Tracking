{% extends "index/base.html" %}
{% load static %}
{% block title %}
Period Tracker
{% endblock %}

{% block content %}

<div style="background-color: #C39EF6; padding: 20px; text-align: left;">
    <h1 style="margin: 0; font-size: 24px; color: white;">Welcome Back, {{ user.username }}</h1>
</div>

<div class="main" style="display: flex; flex-wrap: wrap; gap: 20px; padding: 20px;">

    <div class="calendar" style="width: 20%; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); text-align: center;">
        <h3>Today: {{ today }}</h3>
        <p><strong>Calendar Placeholder</strong></p>
    </div>

    <div class="period-info" style="width: 25%; background-color: #C89FF3; color: white; padding: 15px; border-radius: 8px; text-align: center;">
        <h2>Current Day</h2>
        <p style="font-size: 2em; margin: 10px 0;">
            {% if simulated_day %}
                Simulated Day: {{ simulated_day }}
            {% else %}
                Actual Day: {{ actual_day }}
            {% endif %}
        </p>

        <form method="POST" style="margin-top: 10px;">
            {% csrf_token %}
            <label for="id_simulated_day" style="font-weight: bold;">Simulate Your Day</label>
            {{ form.simulated_day }}
            <button type="submit" style="margin-top: 10px; padding: 8px 16px; background-color: #A67CC9; color: white; border: none; border-radius: 5px; cursor: pointer;">
                Simulate
            </button>
        </form>
    </div>

    <div class="phase-info" style="width: 25%; background-color: #E6C7FF; padding: 15px; border-radius: 8px; text-align: center;">
        <h2>Current Phase</h2>
        {% if current_phase %}
            <p style="font-size: 1.2em; font-weight: bold;">{{ current_phase.name }}</p>
            <p>{{ current_phase.description }}</p>
        {% else %}
            <p>Phase information not available.</p>
        {% endif %}
    </div>
    
    

    <div class="mood" style="width: 50%; background-color: white; padding: 15px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); text-align: center;">
        <h4 style="margin: 0;">Today You Might Be Feel:</h4>
        <ul style="text-align: left; padding-left: 10px;">
            {% for symptom in symptoms_list %}
                <li>{{ symptom }}</li>
            {% endfor %}
        </ul>
        <p style="font-size: 2em; color: #444; margin-top: 10px;">Possible mood today: {{mood}}</p>
    </div>

    <div class="lessons" style="width: 25%; background-color: #E6C7FF; padding: 15px; border-radius: 8px;">
        <h4>Tips for Your Current Phase</h4>
        {% if lessons %}
            <ul style="list-style: none; padding: 0; color: #333;">
                {% for lesson in lessons %}
                    <li>
                        <strong>{{ lesson.title }}</strong>: {{ lesson.content }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No tips available for this phase.</p>
        {% endif %}
    </div>
    
</div>


{% endblock %}
